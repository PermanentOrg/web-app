<pr-file-list-controls
	[hidden]="!showSidebar"
	(refreshView)="refreshView()"
	#controls
></pr-file-list-controls>
@if (showFolderDescription && !isRootFolder) {
	<pr-folder-description [folder]="currentFolder"></pr-folder-description>
}
<div
	class="file-list-scroll"
	[class.is-sorting]="controls?.isSorting$ | async"
	#scroll
>
	@if (!currentFolder.ChildItemVOs || !currentFolder.ChildItemVOs.length) {
		<div class="empty-message">This folder is empty</div>
	}
	@for (item of currentFolder.ChildItemVOs; track item) {
		<pr-file-list-item
			[@ngIfScaleAnimationDynamic]="
				item.isPendingAction || item.isNewlyCreated ? 'animate' : 'static'
			"
			[item]="item"
			[folderView]="folderView"
			[multiSelect]="isMultiSelectEnabled"
			[allowNavigation]="allowNavigation"
			[isSelected]="showSidebar ? selectedItems.has(item) : false"
			[canSelect]="showSidebar"
			[showFolderThumbnails]="showFolderThumbnails"
			(itemClicked)="onItemClick($event)"
			(itemVisible)="onItemVisible($event)"
			(refreshView)="refreshView()"
		></pr-file-list-item>
	}
</div>
@if (showSidebar) {
	<pr-sidebar class="adjust-for-announcement"></pr-sidebar>
}
@if (router.url.includes('record')) {
	<div [@slideUpAnimation]="o.isActivated ? o.activatedRoute : ''">
		<router-outlet #o="outlet"></router-outlet>
	</div>
}
