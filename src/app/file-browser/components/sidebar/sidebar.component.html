<div class="sidebar-tabs">
  <div class="sidebar-tab" [class.active]="currentTab === 'info'" (click)="setCurrentTab('info')">Info</div>
  <div class="sidebar-tab" [class.active]="currentTab === 'details'" (click)="setCurrentTab('details')">Details</div>
  <div class="sidebar-tab" [class.active]="currentTab === 'sharing'" (click)="setCurrentTab('sharing')">Sharing</div>
</div>
<div class="sidebar-tab-content" [hidden]="currentTab !== 'info'">
  <ng-container *ngIf="selectedItem && !isRootFolder">
    <div class="sidebar-item" *ngIf="selectedItem">
      <div class="sidebar-thumbnail">
        <pr-thumbnail [item]="selectedItem"></pr-thumbnail>
      </div>
    </div>
    <div class="sidebar-item">
      <label>Name</label>
      <pr-inline-value-edit
        [displayValue]="selectedItem.displayName"
        [itemId]="selectedItem.folder_linkId"
        (doneEditing)="onFinishEditing('displayName', $event)"
        type='text'></pr-inline-value-edit>
    </div>
    <div class="sidebar-item">
      <label>Description</label>
      <pr-inline-value-edit
      [displayValue]="selectedItem.description"
      [itemId]="selectedItem.folder_linkId"
      [loading]="isLoading"
      (doneEditing)="onFinishEditing('description', $event)"
      emptyMessage="Click to add description"
      type='textarea'></pr-inline-value-edit>
    </div>
    <div class="sidebar-item">
      <label>Tags</label>
      <div class="sidebar-item-content">
        <pr-edit-tags [item]="selectedItem"></pr-edit-tags>
      </div>
    </div>
    <div class="sidebar-item">
      <label>{{selectedItem.isFolder ? 'Start date' : 'Date'}}</label>
      <pr-inline-value-edit
        [displayValue]="selectedItem.displayDT"
        [item]="selectedItem"
        [itemId]="selectedItem.folder_linkId"
        emptyMessage="Click to add date"
        (doneEditing)="onFinishEditing('displayDT', $event)"
        type='date'></pr-inline-value-edit>
    </div>
    <div class="sidebar-item" *ngIf="selectedItem.isFolder">
      <label>End date</label>
      <pr-inline-value-edit
        [displayValue]="selectedItem.displayEndDT"
        [item]="selectedItem"
        [itemId]="selectedItem.folder_linkId"
        emptyMessage="Click to add date"
        (doneEditing)="onFinishEditing('displayEndDT', $event)"
        type='date'></pr-inline-value-edit>
    </div>
    <div class="sidebar-item">
      <label>Location</label>
      <div class="sidebar-item-content">
        <span *ngIf="selectedItem.LocnVO">{{(selectedItem.LocnVO | prLocation)?.full}}</span>
        <span *ngIf="!selectedItem.LocnVO" class="sidebar-item-content-empty">Click to set location</span>
      </div>
      <div class="sidebar-item-content">
        <pr-static-map [location]="selectedItem.LocnVO"></pr-static-map>
      </div>
    </div>

  </ng-container>
  <ng-container *ngIf="selectedItems">
    <div class="sidebar-item">
      <label>Multiple items</label>
      <div class="sidebar-item-content">
        {{selectedItems.length}} items selected
      </div>
    </div>
  </ng-container>
  <ng-container *ngIf="selectedItem && isRootFolder">
    <div class="sidebar-item">
      <label>{{selectedItem.displayName}}</label>
      <div class="sidebar-item-content">
        Select a file to view details
      </div>
    </div>
  </ng-container>
</div>
<div class="sidebar-tab-content" [hidden]="currentTab !== 'details'">
  <ng-container *ngIf="selectedItem && !isRootFolder">
    <div class="sidebar-item">
      <label>{{selectedItem.isRecord ? 'Uploaded' : 'Created'}}</label>
      <div class="sidebar-item-content">
        {{selectedItem.createdDT | prDate}}
      </div>
    </div>
    <div class="sidebar-item">
      <label>Last modified</label>
      <div class="sidebar-item-content">
        {{selectedItem.updatedDT | prDate}}
      </div>
    </div>
    <ng-container *ngIf="selectedItem.isRecord">
      <div class="sidebar-item">
        <label>Size</label>
        <div class="sidebar-item-content">
          {{(selectedItem | asRecord).size| dsFileSize}}
        </div>
      </div>
      <div class="sidebar-item">
        <label>File created</label>
        <div class="sidebar-item-content">
          {{(selectedItem | asRecord).derivedCreatedDT | prDate}}
        </div>
      </div>
    </ng-container>
    <ng-container *ngIf="selectedItem.isFolder">
      <div class="sidebar-item">
        <label>Size</label>
        <div class="sidebar-item-content">
          {{(selectedItem | asFolder).FolderSizeVO?.allFileSizeDeep | dsFileSize}}
        </div>
      </div>
      <div class="sidebar-item">
        <label>Contents</label>
        <div class="sidebar-item-content">
          {{(selectedItem | asFolder).FolderSizeVO | folderContents}}
        </div>
      </div>
    </ng-container>
  </ng-container>
</div>
<div class="sidebar-tab-content" [hidden]="currentTab !== 'sharing'">
  <div class="sidebar-item">
    <label>Shared With</label>
    <div class="sidebar-item-content">
      Some shared archives?
    </div>
  </div>
</div>