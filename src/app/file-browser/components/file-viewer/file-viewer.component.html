<div class="file-viewer" [ngClass]="{'minimal': useMinimalView}">
  <div class="file-viewer-close">
    <!-- <button type="button" class="close" aria-label="Close" (click)="close()">
      <span aria-hidden="true">&times;</span>
    </button> -->
    <a (click)="close()">
      <i class="ion-md-arrow-dropleft"></i> Back
    </a>
  </div>
  <div class="thumb-target">
    <div class="thumb-wrapper" *ngFor="let record of records; let i = index;" [hidden]="!isQueued(i)"
      [ngClass]="{'prev': i == currentIndex - 1, 'next': i == currentIndex + 1, 'current': i == currentIndex, 'queue': isQueued(i)}">
      <div class="thumb-preview no-placeholder" prBgImage [bgSrc]="record.thumbURL200" *ngIf="isQueued(i)"></div>
      <div *ngIf="currentRecord == record" class="full">
        <pr-thumbnail [item]="currentRecord" *ngIf="showThumbnail"></pr-thumbnail>
        <pr-video [item]="currentRecord" *ngIf="isVideo"></pr-video>
        <iframe [src]="documentUrl" *ngIf="isPdf && documentUrl"></iframe>
      </div>
    </div>
    <div class="file-viewer-control file-viewer-control-previous" (click)="incrementCurrentRecord(true)"
      *ngIf="currentIndex > 0"><span>&#8249;</span></div>
    <div class="file-viewer-control file-viewer-control-next" (click)="incrementCurrentRecord()"
      *ngIf="currentIndex < records.length - 1"><span>&#8250;</span></div>
  </div>
  <div class="file-viewer-name">
    {{currentRecord.displayName}}
  </div>
  <div class="file-viewer-metadata">
    <h5>{{currentRecord.displayName}}</h5>
    <div class="file-viewer-description">
      <p *ngIf="currentRecord.description">{{currentRecord.description}}</p>
    </div>
    <table>
      <tr>
        <td>Date</td><td>{{currentRecord.displayDT | date}}</td>
      </tr>
      <tr>
        <td>Uploaded</td><td>{{currentRecord.createdDT | date}}</td>
      </tr>
      <tr>
        <td>Size</td><td>{{currentRecord.size | dsFileSize}}</td>
      </tr>
      <tr>
        <td>Type</td><td>{{currentRecord.type | prConstants | titlecase}}</td>
      </tr>
      <tr>
        <td>Tags</td><td><pr-tags [tags]="currentRecord.TagVOs"></pr-tags></td>
      </tr>
      <tr>
        <td>Location</td>
        <td>
          <pr-static-map [location]="currentRecord.LocnVO" *ngIf="currentRecord.LocnVO"></pr-static-map>
          <span *ngIf="currentRecord.LocnVO">{{(currentRecord.LocnVO | prLocation)?.full}}</span>
          <span *ngIf="!currentRecord.LocnVO">No location</span>
        </td>
      </tr>
    </table>
  </div>
</div>