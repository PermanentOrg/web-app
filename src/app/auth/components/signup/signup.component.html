<!-- @format -->
<h1
  [ngClass]="{ 'page-title-terms': displayTerms }"
  class="page-title"
  *ngIf="!isForShareInvite"
>
  Create your new Account
</h1>
<form
  [hidden]="showTerms"
  [formGroup]="signupForm"
  (ngSubmit)="onSubmit(signupForm.value)"
>
  <h1 class="page-title" *ngIf="isForShareInvite">
    {{ shareFromName }} has shared <em>{{ shareItem.displayName }}</em> with you
  </h1>
  <div *ngIf="showInviteCode" class="invite-code-input input-container">
    <pr-form-input-glam
      fieldName="invitation"
      placeholder="Invitation code (optional)"
      [control]="signupForm.controls['invitation']"
      [config]="{
        autocomplete: 'off',
        autocorrect: 'off',
        autocapitalize: 'off',
        spellcheck: 'off'
      }"
      [variant]="'dark'"
    ></pr-form-input-glam>
  </div>
  <div class="name-input input-container">
    <pr-form-input-glam
      [variant]="'dark'"
      fieldName="name"
      placeholder="Full name"
      [control]="signupForm.controls['name']"
      [config]="{
        autocomplete: 'name',
        autocorrect: 'off',
        autocapitalize: 'yes',
        spellcheck: 'off'
      }"
    ></pr-form-input-glam>
  </div>
  <div class="email-input input-container">
    <pr-form-input-glam
      [variant]="'dark'"
      fieldName="email"
      placeholder="Email"
      [control]="signupForm.controls['email']"
      type="email"
      [config]="{
        autocomplete: 'username',
        autocorrect: 'off',
        autocapitalize: 'off',
        spellcheck: 'off'
      }"
    ></pr-form-input-glam>
  </div>
  <div class="password-input input-container">
    <pr-form-input-glam
      [variant]="'dark'"
      type="password"
      fieldName="password"
      placeholder="Password (min. 8 chars)"
      [control]="signupForm.controls['password']"
      [config]="{
        autocomplete: 'new-password',
        autocorrect: 'off',
        autocapitalize: 'off',
        spellcheck: 'off'
      }"
    ></pr-form-input-glam>
  </div>
  <div class="input-container confirm-password-input">
    <pr-form-input-glam
      [variant]="'dark'"
      type="password"
      fieldName="confirm"
      placeholder="Confirm password"
      [control]="signupForm.controls['confirm']"
      [config]="{
        autocomplete: 'new-password',
        autocorrect: 'off',
        autocapitalize: 'off',
        spellcheck: 'off',
        validateDirty: true
      }"
    ></pr-form-input-glam>
  </div>
  <div class="auth-options">
    <pr-checkbox
      [isChecked]="agreedTerms"
      (isCheckedChange)="agreedTerms = $event"
      [variant]="'secondary'"
    ></pr-checkbox>
    <label class="form-check-label" for="terms">
      I agree with the
      <span class="terms" (click)="displayTerms()">terms</span>
    </label>
  </div>
  <div class="buttons">
    <pr-button
      [attr]="'submit'"
      [text]="'Register'"
      [variant]="'secondary'"
      [size]="'fill'"
      [icon]="'/auth/sign-up'"
      [orientation]="'right'"
      [disabled]="waiting || signupForm.invalid || !agreedTerms"
    ></pr-button>
    <pr-or-divider></pr-or-divider>
    <pr-button
      [text]="'Sign in'"
      [size]="'fill'"
      [orientation]="'right'"
      [routerLink]="['..', 'login']"
      queryParamsHandling="merge"
    ></pr-button>
  </div>
</form>
<div class="terms-container" [hidden]="!showTerms">
  <p class="terms-title">Terms & Conditions</p>
  <p class="terms-content">
    Welcome to The Permanent Legacy Foundation. These terms and conditions
    outline the rules and regulations for the use of The Permanent Legacy
    Foundation's App. The Permanent Legacy Foundation is located at: 4611 Bee
    Caves Road, Suite 109, Austin, TX 78746 United States. Please read these
    Terms of Service ("Terms", "Terms of Service") carefully before using the
    app (the "Service") operated by The Permanent Legacy Foundation. ("us",
    "we", or "our"). Your access to and use of the Service is conditioned on
    your acceptance of and compliance with these Terms. These Terms apply to all
    visitors, users and others who access or use the Permanent App...
  </p>
  <div class="terms-buttons">
    <pr-button
      [text]="'Decline'"
      [icon]="'decline'"
      [orientation]="'right'"
      (buttonClick)="acceptTerms(false)"
    ></pr-button>
    <pr-button
      (buttonClick)="acceptTerms(true)"
      [text]="'Accept'"
      [icon]="'accept'"
      [orientation]="'right'"
      [variant]="'secondary'"
    ></pr-button>
  </div>
</div>
