<!-- @format -->
<form
  [hidden]="success"
  [formGroup]="forgotForm"
  (ngSubmit)="onSubmit(forgotForm.value)"
>
  <h1 class="page-title">Password Reset Request</h1>
  <p class="page-text">
    Enter the email address used to sign up for your account to receive
    instructions on how to reset your password.
  </p>
  <div class="password-input">
    <pr-form-input-glam
      type="email"
      fieldName="email"
      placeholder="Email address"
      [variant]="'dark'"
      [control]="forgotForm.controls['email']"
      [config]="{
        autocomplete: 'email',
        autocorrect: 'off',
        autocapitalize: 'off',
        spellcheck: 'off'
      }"
    ></pr-form-input-glam>
  </div>
  <div class="buttons">
    <pr-button
      [buttonType]="'submit'"
      [variant]="'secondary'"
      [size]="'fill'"
      [icon]="'/auth/recover-password'"
      [orientation]="'right'"
      [disabled]="waiting || forgotForm.invalid"
      >Recover my password</pr-button
    >
    <pr-or-divider></pr-or-divider>
    <pr-button
      [variant]="'primary'"
      [size]="'fill'"
      [orientation]="'right'"
      [icon]="'/auth/back'"
      [routerLink]="['..', 'login']"
      queryParamsHandling="merge"
      >Back to Sign in</pr-button
    >
  </div>
</form>
<div [hidden]="!success">
  <h1 class="page-title">Forgot your password?</h1>
  <p class="page-text no-border">Thank you!</p>
  <p class="page-text instructions">
    If your email was found in our account database, you will receive an email
    shortly.
  </p>
  <pr-button
    [variant]="'primary'"
    [size]="'fill'"
    [icon]="'/auth/back'"
    [orientation]="'right'"
    [routerLink]="['..', 'login']"
    queryParamsHandling="merge"
    >Go to Sign In</pr-button
  >
</div>
<pr-loading-spinner *ngIf="waiting"></pr-loading-spinner>
