<pr-timeline-breadcrumbs
	(breadcrumbClicked)="onBreadcrumbClick($event)"
	[timelineGroups]="timelineGroups"
></pr-timeline-breadcrumbs>
<div
	class="timeline"
	#timelineContainer
	[ngClass]="{ navigating: isNavigating }"
	(click)="showFolderDetails = false"
></div>
<div class="timeline-zoom-controls" (click)="showFolderDetails = false">
	<div class="control-row">
		<button class="btn" (click)="onZoomInClick()">+</button>
	</div>
	<div class="control-row">
		<button class="btn" (click)="onPrevClick()">‹</button>
		<button class="btn" (click)="onNextClick()">›</button>
	</div>
	<div class="control-row">
		<button class="btn" (click)="onZoomOutClick()">-</button>
	</div>
</div>
<div
	class="timeline-folder-info"
	[ngClass]="{ 'showing-details': showFolderDetails }"
>
	<div class="timeline-folder-info-content">
		<span class="timeline-folder-info-name">{{
			timelineRootFolder.displayName
		}}</span>
		@if (
			timelineRootFolder.description && timelineRootFolder.ChildItemVOs.length
		) {
			<a
				class="timeline-folder-details-button"
				(click)="toggleFolderDetails()"
				>{{ showFolderDetails ? 'Hide details' : 'Click for details' }}</a
			>
		}
		@if (!timelineRootFolder.ChildItemVOs.length) {
			<span
				class="timeline-folder-details-button"
				(click)="toggleFolderDetails()"
				>This folder is empty</span
			>
		}
		<span class="timeline-folder-info-date">
			{{ timelineRootFolder.displayDT | date: 'shortDate'
			}}{{ timelineRootFolder.displayEndDT ? ' to ' : ''
			}}{{ timelineRootFolder.displayEndDT | date: 'shortDate' }}
		</span>
	</div>
	@if (timelineRootFolder.description) {
		<div class="timeline-folder-info-details">
			<div>About</div>
			<p [innerHTML]="timelineRootFolder.description"></p>
		</div>
	}
</div>
<router-outlet></router-outlet>
